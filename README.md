# Yans BuildReport Viewer

A Unity package for analyzing and displaying Unity build reports within the Unity Editor.

### 1. Automatic Build Report Saving
- After each successful build, the build report is automatically saved to `Assets/BuildReports/`
- Files are named with the format: `BuildReport_{ProjectName}_{Platform}_{Timestamp}.buildreport`
- Example: `BuildReport_MyGame_StandaloneWindows64_2025-06-26_14-30-15.buildreport`
- Project name is derived from the build output path for better organization

### 2. File Browser
- When clicking "Load Build Report", the file browser opens to `Assets/BuildReports/` by default
- If you select a build report file from outside this directory, it's automatically copied to `Assets/BuildReports/` with proper naming

### 3. Automatic Cleanup
- Old build reports are automatically cleaned up to prevent directory clutter
- By default, only the 10 most recent build reports are kept
- Cleanup happens automatically after each build

### 4. Custom Inspector for BuildReport Assets
- BuildReport assets now have a custom inspector in the Unity Editor
- "Open in BuildReport Viewer" button directly in the Inspector window
- Quick access to view any build report file without navigating through menus
- Cleaner inspector display with reduced clutter from default Unity inspector warnings

### 5. Build Summary Display
- Comprehensive build summary at the top of the viewer window
- Two-column layout with consistent field alignment
- Displays: Result, Platform, Options, Output Path, Output Size, Total Size, and Total Time
- Clickable output path that opens the build location in file explorer
- Options field supports text wrapping for long build configuration strings
- Human-readable file sizes (e.g., "80530473 (76.8 MB)")

## Usage

1. **Build your project** - Build reports are automatically saved to `Assets/BuildReports/`
2. **Open the viewer** - Go to `Tools > BuildReport Viewer` or use a custom inspector
3. **Quick access from Inspector** - Select any `.buildreport` file in the Project window and click "Open in BuildReport Viewer" in the Inspector
4. **View reports** - The most recent report loads automatically with a comprehensive build summary
5. **Browse reports** - Use "Load Build Report" to browse and select specific reports
6. **Manage reports** - Use "Open BuildReports Folder" to access saved reports

## Directory Structure

```
Assets/
  BuildReports/
    BuildReport_MyGame_StandaloneWindows64_2025-06-26_14-30-15.buildreport
    BuildReport_MyGame_StandaloneWindows64_2025-06-26_15-45-30.buildreport
    BuildReport_WebGLBuild_WebGL_2025-06-26_16-00-00.buildreport
    ...
```

The `Assets/BuildReports/` directory is automatically created and managed by the system. Old temporary file systems have been removed for cleaner operation.

## Migration from Previous Version

If you were using a previous version that created temporary files in `Assets/BuildReport/Reports/`, these will be automatically cleaned up. You can also manually run the cleanup utility via `Tools > BuildReport Viewer > Cleanup Old Files`.

## Overview

This package provides tools to load, parse, and visualize build reports generated by Unity. It includes:

- **CustomBuildReportProcessor**: Automatically analyzes build reports after a build completes and saves them to `Assets/BuildReports/`.
- **BuildReportInspector**: Custom inspector for BuildReport assets with direct access to the viewer window.
- **BuildReportHierarchyBuilder**: Generates hierarchical `IBuildEntry` structures for different views (Files, PackedAssets, AssetUsage, StrippingInfo, BuildSteps).
- **BuildFilesHierarchyWindow**: Editor window with a multi-column tree view and comprehensive build summary display.
- **BuildHierarchyTreeView**: Custom `TreeView` for displaying `IBuildEntry` objects with columns for name, size, and additional data.
- **Entities**: Entry implementations (`BuildFileEntry`, `PackedAssetEntry`, `AssetUsageEntry`, `BuildStepEntry`, `BuildStepMessageEntry`, `SceneEntry`, `SimpleEntry`) that wrap build report data.

## Installation

To install this package, add the following entry to your `Packages/manifest.json` file:

```json
{
  "dependencies": {
    "com.yans.buildreportviewer": "https://github.com/Yansubaev/Yans.BuildReportViewer.git"
  }
}
```

Alternatively, open the Unity Package Manager, click **+Add package from git URL...**, and enter:

```
https://github.com/Yansubaev/Yans.BuildReportViewer.git
```

## Usage

1. In the Unity Editor, navigate to **Tools > BuildReport Viewer** to open the window.
2. Click **Load Build Report** to select a `.buildreport` file or **Refresh** to reload the last report.
3. Use the display mode dropdown to switch between view modes: Files, PackedAssets, AssetUsage, StrippingInfo, and BuildSteps.
4. Click on entries to inspect details; clickable asset paths will open the corresponding asset in the Project window.

## Documentation

For API reference and examples, see the documentation URL in `package.json`.

## License

This package is licensed under the MIT License. See the [LICENSE](LICENSE) file for details.
